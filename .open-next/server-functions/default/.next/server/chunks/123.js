exports.id=123,exports.ids=[123],exports.modules={13622:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vicplummer/printful-app-test/src/components/Providers.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vicplummer/printful-app-test/src/components/Providers.tsx","default")},18500:(e,s,t)=>{"use strict";t.d(s,{D:()=>a,N:()=>l});var n=t(60687),r=t(43210);let i=(0,r.createContext)({isDarkMode:!1,toggleDarkMode:()=>{},enableDarkMode:()=>{},disableDarkMode:()=>{}}),a=()=>(0,r.useContext)(i),l=({children:e})=>{let[s,t]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("theme"),s=window.matchMedia("(prefers-color-scheme: dark)").matches,n="dim"===e||null===e&&s;t(n),a(n)},[]);let a=e=>{document.documentElement.setAttribute("data-theme",e?"dim":"silk"),localStorage.setItem("theme",e?"dim":"silk")};return(0,n.jsx)(i.Provider,{value:{isDarkMode:s,toggleDarkMode:()=>{t(e=>{let s=!e;return a(s),s})},enableDarkMode:()=>{t(!0),a(!0)},disableDarkMode:()=>{t(!1),a(!1)}},children:e})}},24503:(e,s,t)=>{"use strict";t.d(s,{default:()=>m});var n=t(60687),r=t(82136),i=t(33265);let a=t.n(i)().basePath||"";function l({children:e}){return(0,n.jsx)(r.SessionProvider,{basePath:`${a}/api/auth`,refetchInterval:300,children:e})}console.log(`NextAuthProvider initialized with basePath: ${a}`);var o=t(39091),c=t(8693),d=t(43210),h=t(18500);function m({children:e}){let[s]=(0,d.useState)(()=>new o.E);return(0,n.jsx)(l,{children:(0,n.jsx)(c.Ht,{client:s,children:(0,n.jsx)(h.N,{children:e})})})}},26467:(e,s,t)=>{Promise.resolve().then(t.bind(t,74042)),Promise.resolve().then(t.bind(t,88928)),Promise.resolve().then(t.bind(t,13622))},26785:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var n=t(60687),r=t(82136),i=t(8693),a=t(29494),l=t(43210),o=t(33265),c=t.n(o);function d({selectedSiteId:e,onSiteSelect:s}){let[t,r]=(0,l.useState)([]),[i,a]=(0,l.useState)(!0),[o,c]=(0,l.useState)(null);return i?(0,n.jsxs)("div",{className:"alert alert-info",children:[(0,n.jsx)("span",{className:"loading loading-spinner loading-sm"}),(0,n.jsx)("span",{children:"Loading Webflow sites..."})]}):o?(0,n.jsxs)("div",{className:"alert alert-error",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsxs)("span",{children:["Error: ",o]})]}):0===t.length?(0,n.jsxs)("div",{className:"alert alert-warning",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,n.jsx)("span",{children:"No Webflow sites found. Please create a site in Webflow first."})]}):(0,n.jsxs)("div",{className:"form-control mb-4",children:[(0,n.jsx)("label",{className:"label",htmlFor:"webflow-site-selector",children:(0,n.jsx)("span",{className:"label-text",children:"Select Webflow Site"})}),(0,n.jsxs)("select",{id:"webflow-site-selector",className:"select select-bordered bg-base-300 w-full focus:outline-primary text-base-content",value:e||"",onChange:e=>{let t=e.target.value;t&&s(t)},children:[(0,n.jsx)("option",{value:"",disabled:!0,children:t.length>1?"Select a Webflow site":"Select site"}),t.map(e=>(0,n.jsx)("option",{value:e.id,className:"text-base-content",children:e.displayName||e.shortName},e.id))]})]})}c().basePath;var h=t(79162);let m=c().basePath;function u({onSettingsChange:e}){let{data:s}=(0,r.useSession)(),{settings:t,updateSettings:l}=(0,h.z)(),o=(0,i.jE)(),{data:c,isLoading:u}=(0,a.I)({queryKey:["webflow-sites"],queryFn:async()=>{let e=await fetch(`${m}/api/webflow/sites`);if(!e.ok)throw Error("Failed to fetch sites");return e.json()},enabled:!!s?.webflowAccessToken}),x=s=>{let n={...t,syncOptions:{...t.syncOptions,[s]:!t.syncOptions[s]}};l(n),e?.(n)};return s?.webflowAccessToken?u?(0,n.jsx)("div",{children:"Loading sites..."}):(0,n.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,n.jsxs)("div",{className:"card-body",children:[(0,n.jsx)("h2",{className:"card-title",children:"Webflow Settings"}),(0,n.jsx)("p",{className:"text-sm opacity-70 mb-3",children:"Select the Webflow site where you want to sync your Printful products."}),(0,n.jsx)(d,{sites:c?.result||[],selectedSiteId:t.siteId,onSiteSelect:s=>{let n={...t,siteId:s};l(n),e?.(n),o.invalidateQueries({queryKey:["orders"]}),o.invalidateQueries({queryKey:["order-details"]})}}),t.siteId&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"divider",children:"Sync Options"}),(0,n.jsx)("div",{className:"form-control",children:(0,n.jsxs)("label",{className:"label cursor-pointer justify-start gap-4",children:[(0,n.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:t.syncOptions.autoDraft,onChange:()=>x("autoDraft")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"label-text font-medium",children:"Auto Draft"}),(0,n.jsx)("p",{className:"text-xs opacity-70",children:"Create products as drafts instead of publishing immediately"})]})]})}),(0,n.jsx)("div",{className:"form-control",children:(0,n.jsxs)("label",{className:"label cursor-pointer justify-start gap-4",children:[(0,n.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:t.syncOptions.includeImages,onChange:()=>x("includeImages")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"label-text font-medium",children:"Include Images"}),(0,n.jsx)("p",{className:"text-xs opacity-70",children:"Sync product images from Printful"})]})]})}),(0,n.jsx)("div",{className:"form-control",children:(0,n.jsxs)("label",{className:"label cursor-pointer justify-start gap-4",children:[(0,n.jsx)("input",{type:"checkbox",className:"checkbox checkbox-primary",checked:t.syncOptions.skipExisting,onChange:()=>x("skipExisting")}),(0,n.jsxs)("div",{children:[(0,n.jsx)("span",{className:"label-text font-medium",children:"Skip Existing"}),(0,n.jsx)("p",{className:"text-xs opacity-70",children:"Skip products that already exist in Webflow"})]})]})})]})]})}):(0,n.jsxs)("div",{className:"alert alert-warning",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),(0,n.jsx)("span",{children:"Please connect your Webflow account first"})]})}},31350:(e,s,t)=>{"use strict";t.d(s,{default:()=>d});var n=t(60687),r=t(82136),i=t(85814),a=t.n(i),l=t(16189),o=t(18500);function c(){let{isDarkMode:e,toggleDarkMode:s}=(0,o.D)();return(0,n.jsxs)("label",{className:"swap swap-rotate",children:[(0,n.jsx)("input",{type:"checkbox",checked:e,onChange:s}),(0,n.jsx)("svg",{className:"swap-on fill-current w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"})}),(0,n.jsx)("svg",{className:"swap-off fill-current w-5 h-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})})]})}function d(){let{data:e}=(0,r.useSession)(),s=(0,l.usePathname)(),t=async()=>{(!(e?.printfulAccessToken&&e?.webflowAccessToken)||confirm("This will disconnect both Printful and Webflow. Continue?"))&&await (0,r.signOut)()};return(0,n.jsxs)("div",{className:"navbar bg-base-200",children:[(0,n.jsxs)("div",{className:"navbar-start",children:[(0,n.jsxs)("div",{className:"dropdown",children:[(0,n.jsx)("div",{tabIndex:0,role:"button",className:"btn btn-ghost lg:hidden",children:(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h8m-8 6h16"})})}),(0,n.jsxs)("ul",{tabIndex:0,className:"menu dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52",children:[(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/products",children:"Products"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/auth-status",children:"Auth Status"})}),e&&(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/account",children:"Account"})})]})]}),(0,n.jsx)(a(),{href:"/",className:"btn btn-ghost text-xl",children:"Printful-Webflow Sync"})]}),(0,n.jsx)("div",{className:"navbar-center hidden lg:flex",children:(0,n.jsxs)("ul",{className:"menu menu-horizontal px-1",children:[(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/",className:"/"===s?"active":"",children:"Home"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/products",className:"/products"===s?"active":"",children:"Products"})}),(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/auth-status",className:"/auth-status"===s?"active":"",children:"Auth Status"})}),e&&(0,n.jsx)("li",{children:(0,n.jsx)(a(),{href:"/account",className:"/account"===s?"active":"",children:"Account"})})]})}),(0,n.jsxs)("div",{className:"navbar-end",children:[(0,n.jsx)(c,{}),e?(0,n.jsx)("button",{onClick:t,className:"btn btn-ghost ml-2",children:"Sign out"}):(0,n.jsx)(a(),{href:"/api/auth/signin",className:"btn btn-ghost ml-2",children:"Sign in"})]})]})}},31504:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},33265:e=>{"use strict";e.exports={reactStrictMode:!0,basePath:"/cosmic",images:{remotePatterns:[{protocol:"https",hostname:"files.cdn.printful.com"}]}}},40539:(e,s,t)=>{Promise.resolve().then(t.bind(t,46380)),Promise.resolve().then(t.bind(t,31350)),Promise.resolve().then(t.bind(t,24503))},61135:()=>{},73360:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},79162:(e,s,t)=>{"use strict";t.d(s,{z:()=>i});var n=t(43210);let r={siteId:"",syncOptions:{autoDraft:!0,includeImages:!0,skipExisting:!1}};function i(){let[e,s]=(0,n.useState)(r);return{settings:e,updateSettings:e=>{s(e),localStorage.setItem("webflowSettings",JSON.stringify(e))}}}},88928:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});let n=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/vicplummer/printful-app-test/src/components/Navigation.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/vicplummer/printful-app-test/src/components/Navigation.tsx","default")},94431:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o,metadata:()=>l});var n=t(37413);t(61135);var r=t(13622),i=t(88928),a=t(74042);let l={title:"Printful OAuth App",description:"A simple app to authenticate with Printful"};function o({children:e}){return(0,n.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[(0,n.jsx)("head",{children:(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})}),(0,n.jsx)("body",{children:(0,n.jsxs)(r.default,{children:[(0,n.jsx)(a.Analytics,{}),(0,n.jsx)(i.default,{}),e]})})]})}},96047:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});var n=t(31658);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)("/cosmic",await e.params,"favicon.ico")+""}]}};