(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[582],{4312:(e,s,a)=>{Promise.resolve().then(a.bind(a,6736))},6736:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});var l=a(5155),n=a(2108),c=a(2115);function t(){let{data:e,status:s}=(0,n.useSession)(),[a,t]=(0,c.useState)(null),[d,r]=(0,c.useState)(!1),i=async()=>{try{r(!0);let e=await fetch("/api/printful/store/products"),s=await e.json();t(s)}catch(e){t({error:String(e)})}finally{r(!1)}};return(0,l.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,l.jsx)("main",{className:"flex-1 p-8",children:(0,l.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Authentication Status"}),(0,l.jsx)("div",{className:"card bg-base-100 shadow-xl mb-6",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h2",{className:"card-title",children:"Session Status"}),(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"table",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Status"}),(0,l.jsx)("th",{children:"Printful"}),(0,l.jsx)("th",{children:"Webflow"})]})}),(0,l.jsx)("tbody",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:s}),(0,l.jsx)("td",{children:(null==e?void 0:e.printfulAccessToken)?(0,l.jsx)("span",{className:"badge badge-success",children:"Connected"}):(0,l.jsx)("span",{className:"badge badge-error",children:"Not Connected"})}),(0,l.jsx)("td",{children:(null==e?void 0:e.webflowAccessToken)?(0,l.jsx)("span",{className:"badge badge-success",children:"Connected"}):(0,l.jsx)("span",{className:"badge badge-error",children:"Not Connected"})})]})})]})}),(0,l.jsxs)("div",{className:"collapse collapse-arrow bg-base-200 mt-4",children:[(0,l.jsx)("input",{type:"checkbox",className:"peer"}),(0,l.jsx)("div",{className:"collapse-title",children:"Raw Session Data"}),(0,l.jsx)("div",{className:"collapse-content",children:(0,l.jsx)("pre",{className:"p-4 bg-neutral text-neutral-content rounded-box overflow-x-auto text-xs",children:JSON.stringify(e,null,2)})})]})]})}),(0,l.jsx)("div",{className:"card bg-base-100 shadow-xl mb-6",children:(0,l.jsxs)("div",{className:"card-body",children:[(0,l.jsx)("h2",{className:"card-title",children:"API Test"}),(0,l.jsx)("p",{className:"text-sm opacity-70 mb-4",children:"Test the Printful API connection by fetching products"}),(0,l.jsx)("button",{className:"btn btn-primary w-full",onClick:i,disabled:d||!(null==e?void 0:e.printfulAccessToken),children:d?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"loading loading-spinner loading-xs"}),"Testing API..."]}):"Test Printful API"}),a&&(0,l.jsxs)("div",{className:"mt-4",children:[(0,l.jsx)("h3",{className:"font-semibold mb-2",children:"Response:"}),(0,l.jsx)("div",{className:"p-4 bg-neutral text-neutral-content rounded-box overflow-x-auto",children:(0,l.jsx)("pre",{className:"text-xs whitespace-pre-wrap",children:JSON.stringify(a,null,2)})})]})]})})]})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[108,441,684,358],()=>s(4312)),_N_E=e.O()}]);