(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{492:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>h});var t=n(5155),c=n(2108),a=n(2115),l=n(5695);function r(){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h2",{className:"card-title",children:"Welcome"}),(0,t.jsx)("p",{children:"This utility allows you to synchronize your Printful products with your Webflow store. Connect both services to get started."})]})}),(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h2",{className:"card-title",children:"Key Features"}),(0,t.jsxs)("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[(0,t.jsx)("li",{children:"Sync all Printful products to Webflow"}),(0,t.jsx)("li",{children:"Manage individual product variants"}),(0,t.jsx)("li",{children:"Track sync status for each product"})]})]})})]})}var i=n(5111);let o=n.n(i)().basePath||"";function d(){let{data:e}=(0,c.useSession)(),s=(0,l.useRouter)(),n=async e=>{try{await (0,c.signIn)(e,{redirect:!0,callbackUrl:"".concat(window.location.origin).concat(o)})}catch(s){console.error("Error signing in with ".concat(e,":"),s),alert("Failed to connect to ".concat(e,". Please try again."))}};return(0,t.jsx)("div",{className:"card bg-base-100 shadow-xl",children:(0,t.jsxs)("div",{className:"card-body",children:[(0,t.jsx)("h2",{className:"card-title",children:"Integration Status"}),(0,t.jsxs)("div",{className:"space-y-4 mt-4",children:[(0,t.jsx)(u,{name:"Webflow",step:1,isConnected:!!(null==e?void 0:e.webflowAccessToken),onConnect:()=>n("webflow"),buttonVariant:"neutral"}),(0,t.jsx)(u,{name:"Printful",step:2,isConnected:!!(null==e?void 0:e.printfulAccessToken),onConnect:()=>n("printful"),buttonVariant:"primary",disabled:!(null==e?void 0:e.webflowAccessToken)})]}),(null==e?void 0:e.isMultiConnected)&&(0,t.jsxs)("div",{className:"alert alert-success mt-6",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{children:"Both services connected! You can now sync products."}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("button",{className:"btn btn-primary w-full",onClick:()=>s.push("/products"),children:"Go to Products"})})]})]})]})})}function u(e){let{name:s,step:n,isConnected:c,onConnect:a,buttonVariant:l,disabled:r=!1}=e;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-base-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"badge ".concat(c?"badge-success":"badge-error"," badge-sm")}),(0,t.jsx)("span",{className:"font-medium",children:s}),(0,t.jsxs)("div",{className:"badge badge-primary badge-outline",children:["Step ",n]})]}),c?(0,t.jsxs)("div",{className:"badge badge-success gap-2",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block w-4 h-4 stroke-current",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),"Connected"]}):(0,t.jsxs)("button",{onClick:a,className:"btn btn-".concat(l),disabled:r,children:["Connect ",s]})]})}function h(){let{data:e}=(0,c.useSession)(),s=(0,l.useRouter)();return(0,a.useEffect)(()=>{(null==e?void 0:e.isMultiConnected)&&s.push("/products")},[e,s]),(0,t.jsx)("div",{className:"flex min-h-screen flex-col",children:(0,t.jsx)("main",{className:"flex-1 p-8",children:(0,t.jsxs)("div",{className:"w-full max-w-6xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-center",children:"Printful-Webflow Sync Utility"}),(0,t.jsx)(r,{}),(0,t.jsx)(d,{})]})})})}},2330:(e,s,n)=>{Promise.resolve().then(n.bind(n,492))},5111:e=>{"use strict";e.exports={reactStrictMode:!0,basePath:"/cosmic",images:{remotePatterns:[{protocol:"https",hostname:"files.cdn.printful.com"}]}}},5695:(e,s,n)=>{"use strict";var t=n(8999);n.o(t,"usePathname")&&n.d(s,{usePathname:function(){return t.usePathname}}),n.o(t,"useRouter")&&n.d(s,{useRouter:function(){return t.useRouter}})}},e=>{var s=s=>e(e.s=s);e.O(0,[108,441,684,358],()=>s(2330)),_N_E=e.O()}]);